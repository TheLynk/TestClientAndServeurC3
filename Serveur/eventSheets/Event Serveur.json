{
	"name": "Event Serveur",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 750453843868049
				}
			],
			"actions": [
				{
					"id": "connect",
					"objectClass": "Multiplayer",
					"sid": 311811437663426,
					"parameters": {
						"server": "\"wss://multiplayer.scirra.com\""
					}
				},
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 708919901308492,
					"parameters": {
						"text": "\"Démarage du serveur version : \" & projectversion & newline"
					}
				}
			],
			"sid": 186882079146099
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-disconnected",
					"objectClass": "Multiplayer",
					"sid": 713926811829604
				}
			],
			"actions": [
				{
					"id": "connect",
					"objectClass": "Multiplayer",
					"sid": 685723131931748,
					"parameters": {
						"server": "\"wss://multiplayer.scirra.com\""
					}
				},
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 399977855239477,
					"parameters": {
						"text": "\"Une Déconnection a était detecter ! ! !\" & newline"
					}
				}
			],
			"sid": 647017259111471
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-connected",
					"objectClass": "Multiplayer",
					"sid": 296241571397157
				}
			],
			"actions": [
				{
					"id": "log-in",
					"objectClass": "Multiplayer",
					"sid": 896517428585630,
					"parameters": {
						"alias": "\"Serveur\" & projectversion"
					}
				},
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 864951849751275,
					"parameters": {
						"text": "\"Connection au Serveur Scirra Fini\" & newline"
					}
				}
			],
			"sid": 673866142714605
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-logged-in",
					"objectClass": "Multiplayer",
					"sid": 477819252849117
				}
			],
			"actions": [
				{
					"id": "join-room",
					"objectClass": "Multiplayer",
					"sid": 375234896735199,
					"parameters": {
						"game": "\"TestClientServeurC3\"",
						"instance": "\"Principale\"",
						"room": "\"Principale\"",
						"max-peers": "0"
					}
				},
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 434504604177710,
					"parameters": {
						"text": "\"Connection au Serveur Scirra 2 Fini\" & newline"
					}
				}
			],
			"sid": 564944706962670
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-joined-room",
					"objectClass": "Multiplayer",
					"sid": 846955780756400
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "TextInformationServeur",
					"sid": 136276032105323,
					"parameters": {
						"text": "\"Version : \"& projectversion &newline & \"Connection Status : Serveur En Ligne\" & newline & Multiplayer.HostAlias"
					}
				},
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 701709971730049,
					"parameters": {
						"text": "\"Serveur Opérationnelle\" & newline"
					}
				}
			],
			"sid": 795368290811587
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-peer-connected",
					"objectClass": "Multiplayer",
					"sid": 764554742802933
				}
			],
			"actions": [
				{
					"id": "add-to-eventvar",
					"objectClass": "System",
					"sid": 253260183160806,
					"parameters": {
						"variable": "NombreJoueur",
						"value": "1"
					}
				},
				{
					"id": "set-text",
					"objectClass": "TextNombreJoueur",
					"sid": 499197561899235,
					"parameters": {
						"text": "\"Nombre de Joueur : \" & NombreJoueur"
					}
				},
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 541960475078811,
					"parameters": {
						"text": "Multiplayer.PeerAlias & \" | \" & Multiplayer.PeerID & \" Viens de rejoindre le serveur\" & newline"
					}
				},
				{
					"id": "play",
					"objectClass": "Audio",
					"sid": 735377678614967,
					"parameters": {
						"audio-file": "Ding - Sound Effect (HD)",
						"loop": "not-looping",
						"volume": "0",
						"stereo-pan": "0",
						"tag-optional": "\"\""
					}
				}
			],
			"sid": 237993825408037
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-peer-disconnected",
					"objectClass": "Multiplayer",
					"sid": 876190544743538
				}
			],
			"actions": [
				{
					"id": "subtract-from-eventvar",
					"objectClass": "System",
					"sid": 720962718145981,
					"parameters": {
						"variable": "NombreJoueur",
						"value": "1"
					}
				},
				{
					"id": "set-text",
					"objectClass": "TextNombreJoueur",
					"sid": 377665201720317,
					"parameters": {
						"text": "\"Nombre de Joueur : \" & NombreJoueur"
					}
				},
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 506638249182166,
					"parameters": {
						"text": "Multiplayer.FromAlias & \"Viens de quitter le serveur\" & newline"
					}
				},
				{
					"id": "play",
					"objectClass": "Audio",
					"sid": 611322649511005,
					"parameters": {
						"audio-file": "bruit de porte qui claque",
						"loop": "not-looping",
						"volume": "0",
						"stereo-pan": "0",
						"tag-optional": "\"\""
					}
				}
			],
			"sid": 882456055282091
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-peer-message",
					"objectClass": "Multiplayer",
					"sid": 308900351101753,
					"parameters": {
						"tag": "\"debugmessage\""
					}
				}
			],
			"actions": [
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 351331085403907,
					"parameters": {
						"text": "Multiplayer.FromAlias & \" : \" & Multiplayer.Message & newline"
					}
				},
				{
					"id": "broadcast-message",
					"objectClass": "Multiplayer",
					"sid": 721320322746696,
					"parameters": {
						"from-id": "Multiplayer.FromAlias",
						"tag": "\"debugmessage\"",
						"message": "Multiplayer.Message",
						"mode": "reliable-ordered"
					}
				}
			],
			"sid": 227030387588864
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-peer-message",
					"objectClass": "Multiplayer",
					"sid": 608371950331233,
					"parameters": {
						"tag": "\"LoadData\""
					}
				}
			],
			"actions": [
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 970029943087661,
					"parameters": {
						"text": "\"LoadData\" & newline"
					}
				},
				{
					"id": "get-item",
					"objectClass": "LocalStorage",
					"sid": 694050951186927,
					"parameters": {
						"key": "Multiplayer.FromAlias"
					}
				}
			],
			"sid": 713008156560103
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-item-get",
					"objectClass": "LocalStorage",
					"sid": 883136581537570,
					"parameters": {
						"key": "Multiplayer.FromAlias"
					}
				}
			],
			"actions": [
				{
					"id": "load",
					"objectClass": "Array",
					"sid": 451164433254339,
					"parameters": {
						"json": "LocalStorage.ItemValue"
					}
				},
				{
					"id": "send-message",
					"objectClass": "Multiplayer",
					"sid": 745449829835166,
					"parameters": {
						"peer-id": "Multiplayer.FromID",
						"tag": "\"HostToPeerData\"",
						"message": "Array.AsJSON",
						"mode": "reliable-ordered"
					}
				}
			],
			"sid": 730310623999374
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-peer-message",
					"objectClass": "Multiplayer",
					"sid": 367476176883317,
					"parameters": {
						"tag": "\"PeerToHostData\""
					}
				}
			],
			"actions": [
				{
					"id": "append-text",
					"objectClass": "TextInputLogServeur",
					"sid": 634152694604190,
					"parameters": {
						"text": "\"PeerToHostData\" & newline"
					}
				},
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 193117898038509,
					"parameters": {
						"key": "Multiplayer.FromAlias",
						"value": "Multiplayer.Message"
					}
				}
			],
			"sid": 447106125051114
		}
	],
	"sid": 423672231501610
}